[package]
name = "interned"
version = "0.1.0"
edition.workspace = true
authors.workspace = true
description.workspace = true
license.workspace = true
repository.workspace = true

[dependencies]
# HashMap å®ç° - å¯ç”¨ nightly ä¼˜åŒ–
# hashbrown = { version = "0.16", default-features = false, features = [
#     "nightly",     # ğŸš€ SIMD ä¼˜åŒ–ã€unstable APIs
#     "raw-entry",   # ç”¨äºé«˜çº§ HashMap æ“ä½œ
#     "inline-more", # æ›´æ¿€è¿›çš„å†…è”ä¼˜åŒ–
#     "equivalent",
#     #"allocator-api2",    # è‡ªå®šä¹‰åˆ†é…å™¨æ”¯æŒ
# ] }

# RwLock å®ç° - å¯ç”¨æ€§èƒ½ä¼˜åŒ–
# parking_lot = { version = "0.12", features = [
#     "nightly",               # ğŸš€ unstable ä¼˜åŒ–
#     "hardware-lock-elision", # Intel TSX ç¡¬ä»¶é”ä¼˜åŒ–ï¼ˆå¦‚æœå¯ç”¨ï¼‰
#     #"send_guard",            # å…è®¸è·¨çº¿ç¨‹ä¼ é€’ MutexGuard
# ] }

# dashmap = { path = "../../patch/dashmap", features = ["inline-more"] }

scc = { version = "3.4.8", features = ["equivalent"] }

# å“ˆå¸Œç®—æ³• - å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ
ahash = { version = "0.8", default-features = false, features = [
    "runtime-rng", # è¿è¡Œæ—¶éšæœºç§å­ï¼ˆå®‰å…¨ï¼‰
    #"nightly-arm-aes", # ğŸš€ ARM AES æŒ‡ä»¤ä¼˜åŒ–
] }

manually_init.workspace = true

serde_core = { version = "1", default-features = false, optional = true }

[features]
default = ["serde"]
nightly = []
serde = ["dep:serde_core"]

#[profile.release]
#opt-level = 3
#lto = "fat"       # å…¨å±€ LTO
#codegen-units = 1 # å•ç¼–è¯‘å•å…ƒï¼Œæœ€å¤§ä¼˜åŒ–
#panic = "abort"   # å‡å°äºŒè¿›åˆ¶ä½“ç§¯
#strip = true      # ç§»é™¤ç¬¦å·ä¿¡æ¯

#[profile.bench]
#inherits = "release"

# Nightly ç‰¹æ€§é—¨æ§
[package.metadata.docs.rs]
rustc-args = ["--cfg", "docsrs"]
all-features = true
